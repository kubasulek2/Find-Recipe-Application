{"version":3,"sources":["app.js"],"names":["$","request","Map","Object","entries","restriction","filter","ingredient1","ingredient2","ingredient3","createRecipeCard","data","count","drawRecipes","append","to","recipe","hits","image","Image","src","text","i","ingredients","length","basicFetch","openFridge","handleSelection","Math","floor","random","headers","mode","redirect","resp","console","catch","then","err","door","on","resetRequest","async","forEach","find","value","key","map","set","removeClass","val","handle","animationEnd","handleBack","Promise","resolve","setTimeout","toggleClass","this","parent","prev","previousElementSibling","id","includes","get","log"],"mappings":"AAAAA,EAAE,KACA,IAOIC,EAAU,IAAIC,IAAIC,OAAOC,QAPnB,CACRC,YAAa,GACbC,OAAQ,GACRC,YAAa,KACbC,YAAa,KACbC,YAAa,QAGf,MA8DMC,EAAmBC,IAQrBX,IAAEY,EAAAC,EAAiBC,EAAQC,IAC5BC,EAAAL,EAAAM,KAAAL,GAAAI,OALGE,EAAQ,IAAIC,MAOhBnB,EAAEoB,IAAAJ,EAAeK,MAXnB,IAAA,IAAAC,EAAA,EAAAA,EAAAN,EAAAO,YAAAC,OAAAF,IAgBAtB,EAAMa,iBAAeD,gBAAUI,EAAAO,YAAAD,GAAAD,aAG/BI,EAAAA,eAAAA,KAAAA,EAAAA,OACAC,EAAAA,OAAAA,EAAAA,UACAC,oBAAAA,EAAAA,0DALMd,EAAeD,GACZA,EAAQ,EAAI,EAAIgB,KAAKC,MAAMD,KAAKE,UAAUlB,EAAQ,IA5BvDmB,MAAAA,uHAAS,CACPC,KAAA,OADOC,SAAA,SAHXF,QAMQG,CAEJC,kBAAA,UAGDC,KAXHF,GAWgBC,EAAAA,QAflBE,KAAA1B,IAkBMD,QAAAA,IAAAA,GALAA,EAAiBC,KAQrByB,MAAIpB,GAASL,QAAUC,IAAV0B,IAtCI,MAIjBC,MAAKC,EAAGxC,EAAR,SACEyC,EAAAA,EAAAA,WADFF,EAAKC,GAAG,QAASE,iBAzBjB1C,EAAE2C,QAAWC,CAAbC,EAAkBC,EAAAC,IAAAA,EAAlBC,IAA0CC,EAAAA,KAH5CjD,EAAA,WAAA4C,KAAA,wBAAAK,YAAA,QAIEjD,EAAE,WAAW4C,KAAK,SAASM,IAAI,IA6B7BC,EAAIC,SAAAA,QAEJ,IAAAC,EAAA,IAAAC,QAAAC,GAAAC,WAAA,IAAAD,EAAAJ,EAAAF,YAAA,SAAA,MACAG,EAAA,IAAAE,QAAAC,GAAAC,WAAA,IAAAD,IAAA,YAEKE,QAVPL,EAaFb,EAAMd,YAAa,WAsCnBC,GApEG1B,EAFD,mBAAAwC,GAAA,QAAA,WACExC,EAAE0D,MAAMC,SAASC,OAAOvC,KAAKrB,EAAE0D,MAAMrC,UAGvCrB,EAAE,oBAAoBwC,GAAG,QAAS,WAGhCvC,EAAAA,MAAQ+C,OAAIE,IAAA,IAEZjD,EAAQ+C,IAAI,cAAeU,KAAKG,uBAAuBC,GAAGC,SAAS,KAAO,GAAK9D,EAAQ+D,IAAI,gBAC3F7B,EAAQ8B,IAAIhE,cAAZyD,KAAAG,uBAAAC,GAAAC,SAAA,KAAA,GAAA9D,EAAA+D,IAAA,gBANF/D,EAAA+C,IAAA,cAAAU,KAAAG,uBAAAC,GAAAC,SAAA,KAAA,GAAA9D,EAAA+D,IAAA,gBANF7B,QAAA8B,IAAAhE","file":"app.js","sourcesContent":["$(() => {\n  let obj = {\n    restriction: '',\n    filter: '',\n    ingredient1: 'aa',\n    ingredient2: 'bb',\n    ingredient3: 'cc'\n  };\n  let request = new Map(Object.entries(obj));\n  const createRequest = () => {\n\n  };\n  const resetRequest = ()=>{\n    request.forEach((value, key, map) => map.set(key, ''));\n\n    $('.fridge').find('.dropdown-menu .show').removeClass('show');\n    $('.fridge').find('input').val('');\n  };\n\n  const handleSelection = ()=> {\n    \n    $('a.dropdown-item').on('click', function () {\n      $(this).parent().prev().text($(this).text())\n    });\n    \n    $('.fa-times-circle').on('click', function () {\n      $(this).prev().val('');\n\n      request.set('ingredient1', this.previousElementSibling.id.includes('1') ? '' : request.get('ingredient1') );\n      request.set('ingredient2', this.previousElementSibling.id.includes('2') ? '' : request.get('ingredient2') );\n      request.set('ingredient3', this.previousElementSibling.id.includes('3') ? '' : request.get('ingredient3') );\n      console.log(request);\n    })\n  };\n\n\n  const openFridge = ()=>{\n    const door = $('.door');\n    const handle = $('.handle');\n\n    door.on('click', async function () {\n      resetRequest();\n      handle.addClass('open');\n\n      let handleBack = new Promise(resolve =>setTimeout(()=>resolve( handle.removeClass('open') ),300) );\n      let animationEnd = new Promise(resolve =>setTimeout(()=>resolve(),600) );\n\n      await handleBack;\n      await animationEnd;\n\n      door.toggleClass('open');\n    })\n  };\n  const basicFetch = ()=>{\n    const appId = 'fd3ea657';\n    const appKey ='a61ca3c11d3b2ec930779e11cfe06c85';\n\n    fetch(`https://api.edamam.com/search?q=chicken+tomato&app_id=${appId}&app_key=${appKey}&from=0&to=10`,{\n      mode: 'cors',\n      redirect: 'follow',\n      headers: {\n        'Accept-Encoding': 'gzip',\n      }\n    }).then(resp => resp.json())\n      .then(data =>{\n        console.log(data);\n        createRecipeCard(data)\n      })\n      .catch(err => console.log(err))\n\n  };\n  const createRecipeCard = data => {\n\n    let count = drawRecipes(data.to);\n    let recipe = data.hits[count].recipe;\n    let image = new Image();\n    image.src = recipe.image;\n\n    for(let i = 0; i < recipe.ingredients.length ; i++){\n      $('.card-body ul').append(`<li>- ${recipe.ingredients[i].text}</li>`)\n    }\n\n    $('.card-title').text(recipe.label);\n    image.onload = $('.image')\n      .append(`<img src='${image.src}' class=\"card-img-top mx-auto\" alt=\"recipe image\">`);\n\n  };\n  const drawRecipes = (count) => {\n    return count < 5 ? 0 : Math.floor(Math.random()*(count - 5))\n  };\n  basicFetch();\n  openFridge();\n  handleSelection();\n});"]}